"use strict";(self.webpackChunkclematis_doc=self.webpackChunkclematis_doc||[]).push([[1523],{63114:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"web-applications/server-application","title":"Server Application","description":"All server applications use the latest versions of Gradle","source":"@site/docs/web-applications/server-application.md","sourceDirName":"web-applications","slug":"/web-applications/server-application","permalink":"/clematis.doc/docs/web-applications/server-application","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"spring","permalink":"/clematis.doc/docs/tags/spring"},{"inline":true,"label":"spring-boot","permalink":"/clematis.doc/docs/tags/spring-boot"},{"inline":true,"label":"gradle","permalink":"/clematis.doc/docs/tags/gradle"}],"version":"current","lastUpdatedAt":1742299689000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"tags":["spring","spring-boot","gradle"]},"sidebar":"tutorialSidebar","previous":{"title":"Documenting Backend API","permalink":"/clematis.doc/docs/web-applications/backend-api"},"next":{"title":"More Code Standards","permalink":"/clematis.doc/docs/web-applications/more-code-standards"}}');var s=i(74848),t=i(28453);const o={sidebar_position:11,tags:["spring","spring-boot","gradle"]},a="Server Application",l={},p=[{value:"Microservices Architecture",id:"microservices-architecture",level:2},{value:"Gradle Build File",id:"gradle-build-file",level:2},{value:"Spring Boot Dependencies",id:"spring-boot-dependencies",level:2},{value:"Groovy Spring Boot Application",id:"groovy-spring-boot-application",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"server-application",children:"Server Application"})}),"\n",(0,s.jsxs)(n.p,{children:["All server applications use the latest versions of ",(0,s.jsx)(n.a,{href:"https://gradle.org/",children:"Gradle"}),"\nbuild tool and ",(0,s.jsx)(n.a,{href:"https://spring.io/projects/spring-boot",children:"Spring Boot"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"microservices-architecture",children:"Microservices Architecture"}),"\n",(0,s.jsx)(n.p,{children:"Each backend application has only one data source for it and has its own,\npretty limited functionality. This is done to make the applications comply\nwith microservices criteria:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Backend applications are small, manageable, self-contained"}),"\n",(0,s.jsx)(n.li,{children:"Can be deployed independently of others"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["More documentation on microservices themselves is available at canonical\n",(0,s.jsx)(n.a,{href:"https://microservices.io/",children:"https://microservices.io/"}),". Also supported\nby ",(0,s.jsx)(n.a,{href:"https://spring.io/cloud",children:"Spring Cloud"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"gradle-build-file",children:"Gradle Build File"}),"\n",(0,s.jsx)(n.p,{children:"The basic zero setup for a typical project is as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"plugins {\n    id 'java'    \n}\n\ngroup = 'org.clematis'\nversion = '1.0.0-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\ndependencies {\n //...\n}    \n"})}),"\n",(0,s.jsxs)(n.p,{children:["Gradle version is in the ",(0,s.jsx)(n.code,{children:"gradle-wrapper.properties"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.13-bin.zip\nnetworkTimeout=10000\nvalidateDistributionUrl=true\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"The minimal project layout is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/.\n ...\n \u251c\u2500 gradle\n \u2502 \u2514\u2500 wrapper\n \u2502   \u251c\u2500 gradle-wrapper.jar\n \u2502   \u2514\u2500 gradle-wrapper.properties\n ... \n \u251c\u2500 src\n \u2502 \u251c\u2500 docs\n \u2502 \u251c\u2500 main\n \u2502 \u2514\u2500 test\n ...\n build.gradle \n"})}),"\n",(0,s.jsx)(n.p,{children:"Every next chapter will add settings to this file."}),"\n",(0,s.jsx)(n.h2,{id:"spring-boot-dependencies",children:"Spring Boot Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"There are some dependencies to be added to the build file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"plugins {\n    id 'org.springframework.boot' version '3.4.3'\n    id 'io.spring.dependency-management' version '1.1.7'   \n}\n\ndependencies {\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n}  \n"})}),"\n",(0,s.jsxs)(n.p,{children:["Installing ",(0,s.jsx)(n.a,{href:"https://plugins.gradle.org/plugin/io.spring.dependency-management",children:"Spring Gradle dependency management plugin"}),"\nwill allow ",(0,s.jsx)(n.a,{href:"https://docs.spring.io/spring-boot/gradle-plugin/managing-dependencies.html",children:"autoconfiguration of projects dependencies"}),"\nby applying Spring Maven BOMs to the project's dependencies."]}),"\n",(0,s.jsx)(n.admonition,{title:"Can be done better",type:"tip",children:(0,s.jsxs)(n.p,{children:["Using Gradle\u2019s ",(0,s.jsx)(n.a,{href:"https://docs.spring.io/spring-boot/gradle-plugin/managing-dependencies.html#managing-dependencies.gradle-bom-support",children:"native bom support"})," instead can help resolve\n",(0,s.jsx)(n.a,{href:"https://nexocode.com/blog/posts/spring-dependencies-in-gradle/",children:"some issues"})," with\nsecurity patching."]})}),"\n",(0,s.jsx)(n.h2,{id:"groovy-spring-boot-application",children:"Groovy Spring Boot Application"}),"\n",(0,s.jsxs)(n.p,{children:["For some applications with ",(0,s.jsx)(n.a,{href:"https://groovy-lang.org/",children:"Groovy"})," code mixed up with Java code, it may\nturn out to be more sensible to continue the development of the whole\napplication using Groovy, as in case with Clematis Weather:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-groovy",children:'@SpringBootApplication\n@EntityScan(basePackages = ["jworkspace", "org.clematis.weather"])\n@SuppressWarnings(["PMD", "checkstyle:hideutilityclassconstructor"])\n@SuppressFBWarnings("EI_EXPOSE_REP")\nclass WeatherApplication {\n\n    static void main(String[] args) {\n        SpringApplication.run(WeatherApplication.class, args)\n    }\n\n    @Bean\n    ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"There are no significant differences with Java variant, apart from Groovy syntax."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(96540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);