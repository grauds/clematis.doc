"use strict";(self.webpackChunkclematis_doc=self.webpackChunkclematis_doc||[]).push([[1904],{62617:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"web-applications/styling","title":"Styling","description":"CSS Post-processors and UI Libraries to make components.","source":"@site/docs/web-applications/styling.md","sourceDirName":"web-applications","slug":"/web-applications/styling","permalink":"/clematis.doc/docs/web-applications/styling","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"css","permalink":"/clematis.doc/docs/tags/css"},{"inline":true,"label":"sass","permalink":"/clematis.doc/docs/tags/sass"},{"inline":true,"label":"scss","permalink":"/clematis.doc/docs/tags/scss"},{"inline":true,"label":"less","permalink":"/clematis.doc/docs/tags/less"},{"inline":true,"label":"tailwind_css","permalink":"/clematis.doc/docs/tags/tailwind-css"},{"inline":true,"label":"material_ui","permalink":"/clematis.doc/docs/tags/material-ui"},{"inline":true,"label":"flexbox","permalink":"/clematis.doc/docs/tags/flexbox"},{"inline":true,"label":"postcss","permalink":"/clematis.doc/docs/tags/postcss"},{"inline":true,"label":"css_modules","permalink":"/clematis.doc/docs/tags/css-modules"},{"inline":true,"label":"theming","permalink":"/clematis.doc/docs/tags/theming"}],"version":"current","lastUpdatedAt":1742201711000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"tags":["css","sass","scss","less","tailwind_css","material_ui","flexbox","postcss","css_modules","theming"]},"sidebar":"tutorialSidebar","previous":{"title":"Cucumber And Playwright","permalink":"/clematis.doc/docs/web-applications/cucumber-playwright"},"next":{"title":"Composable Components","permalink":"/clematis.doc/docs/web-applications/components"}}');var i=n(74848),a=n(28453);const l={sidebar_position:6,tags:["css","sass","scss","less","tailwind_css","material_ui","flexbox","postcss","css_modules","theming"]},o="Styling",r={},c=[{value:"Money Tracker",id:"money-tracker",level:2},{value:"Tailwind",id:"tailwind",level:3},{value:"Sass",id:"sass",level:3},{value:"Material UI Theme",id:"material-ui-theme",level:3},{value:"View Encapsulation",id:"view-encapsulation",level:3},{value:"Layout",id:"layout",level:3},{value:"Pomodoro",id:"pomodoro",level:2},{value:"Less",id:"less",level:3},{value:"CSS Modules",id:"css-modules",level:3},{value:"CSS Variables and Themes",id:"css-variables-and-themes",level:3},{value:"Layout",id:"layout-1",level:3},{value:"Cosmic",id:"cosmic",level:2},{value:"Tailwind",id:"tailwind-1",level:3},{value:"CSS Modules",id:"css-modules-1",level:3},{value:"Layout",id:"layout-2",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"styling",children:"Styling"})}),"\n",(0,i.jsx)(s.p,{children:"CSS Post-processors and UI Libraries to make components."}),"\n",(0,i.jsx)(s.h2,{id:"money-tracker",children:"Money Tracker"}),"\n",(0,i.jsxs)(s.p,{children:["This application uses ",(0,i.jsx)(s.a,{href:"https://nx.dev",children:"Nx"})," and ",(0,i.jsx)(s.a,{href:"https://angular.dev",children:"Angular"})," with ",(0,i.jsx)(s.a,{href:"https://tailwindcss.com",children:"Tailwind CSS"})," and ",(0,i.jsx)(s.a,{href:"https://sass-lang.com",children:"Sass"})," to style components,\nalthough Angular works with any tool that outputs ",(0,i.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS",children:"CSS"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"tailwind",children:"Tailwind"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://tailwindcss.com",children:"Tailwind CSS"})," dependency is included for the whole project:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "dependencies": {\n    "tailwindcss": "^3.4.12"\n  }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The main configuration file is in the main web application source directory in its default form,\nsee ",(0,i.jsx)(s.a,{href:"https://nx.dev/recipes/angular/using-tailwind-css-with-angular-projects",children:"Nx docs"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",metastring:'title="apps/money-tracker-ui/tailwind.config.js"',children:"const { createGlobPatternsForDependencies } = require('@nrwl/angular/tailwind');\nconst { join } = require('path');\n\nmodule.exports = {\n  content: [\n    join(__dirname, 'src/**/!(*.stories|*.spec).{ts,html}'),\n    ...createGlobPatternsForDependencies(__dirname),\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n\n"})}),"\n",(0,i.jsx)(s.h3,{id:"sass",children:"Sass"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://sass-lang.com",children:"Sass aka Syntactically Awesome Style Sheets"})," dependency is included for the whole project as well:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "dependencies": {\n    "sass": "^1.79.3",\n    "sass-loader": "^13.3.3"\n  }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Tailwind CSS is imported in ",(0,i.jsx)(s.code,{children:"styles.sass"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sass",metastring:'title="apps/money-tracker-ui/src/styles.sass"',children:"@tailwind base\n@tailwind components\n@tailwind utilities\n"})}),"\n",(0,i.jsx)(s.p,{children:"So both preprocessors are available in the project and in its components."}),"\n",(0,i.jsx)(s.h3,{id:"material-ui-theme",children:"Material UI Theme"}),"\n",(0,i.jsxs)(s.p,{children:["The Material Indigo theme is included in ",(0,i.jsx)(s.code,{children:"project.json"})," with other CSS files,\nfor example, with ",(0,i.jsx)(s.code,{children:"styles.css"})," and ",(0,i.jsx)(s.code,{children:"styles.sass"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:'title="apps/money-tracker-ui/project.json"',children:'{\n  "styles": [\n    "./node_modules/@angular/material/prebuilt-themes/indigo-pink.css",\n    "apps/money-tracker-ui/src/styles.css",\n    "apps/money-tracker-ui/src/styles.sass"\n  ]\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"view-encapsulation",children:"View Encapsulation"}),"\n",(0,i.jsx)(s.p,{children:"By default, Angular uses emulated encapsulation so that a component's styles only apply to elements\ndefined in that component's template."}),"\n",(0,i.jsxs)(s.p,{children:["More information: ",(0,i.jsx)(s.a,{href:"https://angular.dev/guide/components/styling#",children:"Angular Styling Components"})]}),"\n",(0,i.jsx)(s.h3,{id:"layout",children:"Layout"}),"\n",(0,i.jsxs)(s.p,{children:["Since it is an Angular-based application, it uses ",(0,i.jsx)(s.a,{href:"https://material.angular.io",children:"Angular Material"})," for layouts,\nthemes and ready-to-use components."]}),"\n",(0,i.jsxs)(s.p,{children:["For the layout in particular see ",(0,i.jsx)(s.a,{href:"https://material.angular.io/components/grid-list/overview",children:"mat-grid-system"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"pomodoro",children:"Pomodoro"}),"\n",(0,i.jsxs)(s.p,{children:["The application is using ",(0,i.jsx)(s.a,{href:"https://react.dev",children:"React"})," and ",(0,i.jsx)(s.a,{href:"https://webpack.js.org",children:"Webpack"}),"; therefore,\nthe latter takes care of the ",(0,i.jsx)(s.a,{href:"https://lesscss.org",children:"Leaner Style Sheets aka Less"})," configuration.\nLess allows variables, mixins, nested classes, operations, functions and many more if compared\nto conventional CSS."]}),"\n",(0,i.jsx)(s.h3,{id:"less",children:"Less"}),"\n",(0,i.jsx)(s.p,{children:"We have CSS and Less files configured for loading and processing in Webpack,\nbut it would be possible to configure Sass or any other pre-processor in the same manner:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",metastring:'title="cfg/webpack.server.config.js"',children:'{ \n  module: {\n    rules: [\n      {\n        test: /\\.less$/,\n        use: [\n          {\n            loader: "css-loader",\n            options: {\n              modules: {\n                mode: "local",\n                localIdentName: "[name]__[local]--[hash:base64:5]",\n              },\n              onlyLocals: true\n            }\n          },\n          "less-loader"\n        ]\n      }]\n    }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The configuration uses ",(0,i.jsx)(s.code,{children:"css-loader"})," library which is enlisted in dev dependencies of ",(0,i.jsx)(s.code,{children:"package.json"})," file:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "devDependencies": {\n    "css-loader": "^3.6.0"\n  }\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"css-modules",children:"CSS Modules"}),"\n",(0,i.jsxs)(s.p,{children:["Components styles encapsulation is done with the help of ",(0,i.jsx)(s.a,{href:"https://github.com/css-modules/css-modules",children:"CSS modules"})," in the Webpack excerpt above,\nsee ",(0,i.jsx)(s.a,{href:"https://webpack.js.org/loaders/css-loader/#modules",children:"Webpack CSS-Loader"})," for more options:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",metastring:'title="cfg/webpack.server.config.js"',children:'{\n  options: {\n    modules: {\n      mode: "local"\n      localIdentName: "[name]__[local]--[hash:base64:5]"\n    }\n    onlyLocals: true\n  }\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:"It is necessary to declare modules to TypeScript as well since it doesn't know what to do with *.css\n(or *.less) files out of the box:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",metastring:'title="src/types/global.d.ts"',children:"declare module '*.less' {\n    const styles: {[key: string]: string};\n    export = styles;\n}\n\ndeclare module \"*.css\" {\n    const styles: { [key: string]: string };\n    export = styles;\n}\n"})}),"\n",(0,i.jsx)(s.admonition,{title:"Can be improved",type:"tip",children:(0,i.jsxs)(s.p,{children:["CSS modules can be typified, see ",(0,i.jsx)(s.a,{href:"https://habr.com/ru/articles/688844/",children:"here"})]})}),"\n",(0,i.jsx)(s.h3,{id:"css-variables-and-themes",children:"CSS Variables and Themes"}),"\n",(0,i.jsxs)(s.p,{children:["Pomodoro extensively uses ",(0,i.jsx)(s.a,{href:"https://www.w3schools.com/css/css3_variables.asp",children:"CSS Variables"})," in the global CSS file, using them to create switchable themes,\nwhich override the variables with values from the theme palettes:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",metastring:'title="src/main.global.css"',children:":root {\n    --OFF: ;\n    --ON: initial;\n\n    --black: #333333;\n    --whitelightness: 100%;\n    --white: hsl(0, 0%, var(--whitelightness));\n    --greyF3: #f3f3f3;\n    --grey33: #333;\n    --greyEC: #ececec;\n    --greyCC: #cccccc;\n    --greyF4: hsl(0, 0%, calc(var(--whitelightness) - 4%));\n    --greyDE: #DEDEDE;\n    --greyEE: #EEEEEE;\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["For instance, a theme could be put down like below, note how ",(0,i.jsx)(s.code,{children:"var()"})," works when it chooses a correct\ncolour for the active theme:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",children:"@media (prefers-color-scheme: light) {\n  :root {\n    --background: var(--light, var(--white)) var(--dark, var(--grey33)) var(--system, var(--white));\n    --backgroundSecondary: var(--light, var(--greyF4)) var(--dark, var(--grey66)) var(--system, var(--greyF4));\n    --foreground: var(--light, var(--grey33)) var(--dark, var(--white)) var(--system, var(--grey33));\n    --accent: var(--light, var(--red)) var(--dark, var(--brightBlue)) var(--system, var(--red));\n  }\n}\n"})}),"\n",(0,i.jsx)(s.p,{children:"It then can be switched to dark or back to light using Redux store variables:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"export type RootState = {\n  theme: ETheme;\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["The actual switch in the DOM tree happens in one of the wrapper components - ",(0,i.jsx)(s.code,{children:"<Layout />"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",metastring:'title="src/shared/components/Layout/Layout.tsx"',children:"useLayoutEffect(() => {\n    if (theme === ETheme.LIGHT) {\n      document.documentElement.classList.remove(themeDark);\n      document.documentElement.classList.add(themeLight);\n      document.documentElement.classList.remove(themeSystem); \n    } else if (theme === ETheme.DARK) {\n      document.documentElement.classList.remove(themeLight);\n      document.documentElement.classList.add(themeDark);  \n      document.documentElement.classList.remove(themeSystem); \n    } else {\n      document.documentElement.classList.remove(themeLight); \n      document.documentElement.classList.remove(themeDark);  \n      document.documentElement.classList.add(themeSystem);         \n    }\n  }, [theme]);\n\n"})}),"\n",(0,i.jsx)(s.h3,{id:"layout-1",children:"Layout"}),"\n",(0,i.jsxs)(s.p,{children:["Pomodoro is using ",(0,i.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flexible_box_layout/Basic_concepts_of_flexbox",children:"CSS Flexbox"}),", which also has nice documentation ",(0,i.jsx)(s.a,{href:"https://css-tricks.com/snippets/css/a-guide-to-flexbox/",children:"here"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"The typical CSS class then would start with display property and the setting of the flow:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",children:"  .title {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n  }\n"})}),"\n",(0,i.jsx)(s.h2,{id:"cosmic",children:"Cosmic"}),"\n",(0,i.jsxs)(s.p,{children:["Cosmic is using React and ",(0,i.jsx)(s.a,{href:"https://vite.dev",children:"Vite"})," with pure CSS and ",(0,i.jsx)(s.a,{href:"https://github.com/css-modules/css-modules",children:"CSS modules"})," to style the components."]}),"\n",(0,i.jsx)(s.h3,{id:"tailwind-1",children:"Tailwind"}),"\n",(0,i.jsxs)(s.p,{children:["Tailwind is installed as a ",(0,i.jsx)(s.a,{href:"https://postcss.org",children:"PostCSS"})," plugin as it is the most seamless way to integrate it\nwith build tools, see ",(0,i.jsx)(s.a,{href:"https://tailwindcss.com/docs/installation/using-postcss",children:"more"}),". Vite understands PostCSS config automatically if present:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "devDependencies": {\n    "autoprefixer": "^10.4.20",\n    "postcss": "^8.4.49",\n    "tailwindcss": "^3.4.16"\n  }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Added to ",(0,i.jsx)(s.a,{href:"https://postcss.org",children:"PostCSS"})," configuration:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",metastring:'title="postcss.config.js"',children:"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n"})}),"\n",(0,i.jsx)(s.p,{children:"Template paths are configured for Tailwind CSS:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",metastring:'title="tailwind.config.js"',children:'/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: [\n    "./index.html",\n    "./src/**/*.{js,ts,jsx,tsx}",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:"And finally, directives are included into the main CSS file for the project:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",metastring:'title="src/index.css"',children:"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n"})}),"\n",(0,i.jsx)(s.h3,{id:"css-modules-1",children:"CSS Modules"}),"\n",(0,i.jsxs)(s.p,{children:["Again automatically, Vite understands any CSS file ending with ",(0,i.jsx)(s.code,{children:".module.css"})," as a ",(0,i.jsx)(s.a,{href:"https://github.com/css-modules/css-modules",children:"CSS modules"})," file."]}),"\n",(0,i.jsx)(s.h3,{id:"layout-2",children:"Layout"}),"\n",(0,i.jsxs)(s.p,{children:["Although CSS Flexbox is also configured for this application, it makes a much heavier use of Tailwind CSS\n",(0,i.jsx)(s.a,{href:"https://tailwindcss.com/docs/aspect-ratio",children:"classes for layout"}),". In fact, Tailwind also offers CSS Flexbox ",(0,i.jsx)(s.a,{href:"https://tailwindcss.com/docs/flex-basis",children:"grid classes"})," which\nalso can be used in isolation for every component."]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var t=n(96540);const i={},a=t.createContext(i);function l(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);